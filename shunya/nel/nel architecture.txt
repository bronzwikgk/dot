┌─────────────────────────────────────────────────────────┌─────────────────────────┐
│                     NEL Parser Layer                    │    Runtime Execution    │
├─────────────────────────────────────────────────────────┼─────────────────────────┤
│ 1. Lexical Analyzer      │ 2. Grammar Parser   │ 3. AST Builder │ 4. Interpreter    │
│   - Tokenizes text       │   - Parses tokens   │   - Builds AST │   - Executes AST  │
│   - Validates syntax     │   - Validates rules │   - Validates  │   - Manages state │
└──────────────────────────┴─────────────────────┴────────────────┴───────────────────┘
                             ↓
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                                Abstract Syntax Tree (AST)                            │
│  ┌──────────────────────────────────────────────────────────────────────────────┐  │
│  │ ProgramNode                                                                  │  │
│  │   ├── MetadataNode                                                           │  │
│  │   ├── ImportNode[]                                                           │  │
│  │   ├── RuleNode[]                                                            │  │
│  │   │   ├── ConditionBlockNode                                                │  │
│  │   │   │   ├── ConditionNode[]                                               │  │
│  │   │   │   │   ├── ExpressionNode                                            │  │
│  │   │   │   │   │   ├── LeftOperand                                           │  │
│  │   │   │   │   │   ├── Operator                                              │  │
│  │   │   │   │   │   └── RightOperand                                          │  │
│  │   │   ├── ActionBlockNode                                                   │  │
│  │   │   │   ├── ActionNode[]                                                  │  │
│  │   │   │   │   ├── FunctionCallNode                                          │  │
│  │   │   │   │   │   ├── FunctionName                                          │  │
│  │   │   │   │   │   ├── Arguments[]                                           │  │
│  │   │   └── OutcomeBlockNode                                                  │  │
│  │   └── FunctionNode[]                                                        │  │
└─────────────────────────────────────────────────────────────────────────────────────┘
                             ↓
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                             Execution Engine                                         │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌───────────────────────────┐  │
│  │ State       │  │ Scope       │  │ Async       │  │ Error Handler             │  │
│  │ Manager     │  │ Manager     │  │ Controller  │  │                           │  │
│  └─────────────┘  └─────────────┘  └─────────────┘  └───────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────────┘